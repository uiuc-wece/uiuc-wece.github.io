{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/layout\";\nimport SectionBody from \"../components/sectionbody\";\nimport SectionHead from \"../components/sectionhead\";\nimport styles from \"../styles/Forms.module.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nexport default function Join() {\n  var _useState = useState(false),\n      validated = _useState[0],\n      setValidated = _useState[1];\n\n  var handleSubmit = function handleSubmit(event) {\n    var url = \"https://script.google.com/macros/s/AKfycbz1yXFCt7nFu-zpkEfLgMtQjXEMgN_aV_GXVbQ3-guQxRwmhAE/exec\";\n    var form = event.currentTarget;\n\n    if (event.currentTarget.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n      setValidated(true);\n    } else {\n      event.preventDefault();\n      setValidated(true);\n      var formData = new FormData(form);\n      var inputs = form.querySelectorAll(\"input\");\n      inputs.forEach(function (input) {\n        return input.disabled = true;\n      });\n\n      var postJoinRequest = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var result;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return axios.post(url, formData).then(function (response) {\n                    alert(\"Your netID was recorded. Thanks!\");\n                  })[\"catch\"](function (error) {\n                    alert(\"Error: \" + error.message);\n                  })[\"finally\"](function () {\n                    inputs.forEach(function (input) {\n                      return input.disabled = false;\n                    });\n                    setValidated(false);\n                  });\n\n                case 2:\n                  result = _context.sent;\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function postJoinRequest() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      postJoinRequest();\n    }\n  };\n\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"content\"\n  }, __jsx(Container, {\n    className: \"section\"\n  }, __jsx(SectionHead, {\n    title: \"Join WECE_\",\n    top: true\n  }), __jsx(SectionBody, null, __jsx(\"p\", null, \"Sign up here to get weekly newsletters with general meetings, upcoming events, and more.\"), __jsx(Form, {\n    name: \"join-form\",\n    noValidate: true,\n    validated: validated,\n    onSubmit: handleSubmit\n  }, __jsx(Form.Group, {\n    controlId: \"formNetId\"\n  }, __jsx(Form.Label, null, \"NetId\"), __jsx(Form.Control, {\n    required: true,\n    type: \"text\",\n    name: \"netID\",\n    placeholder: \"Enter NetId\"\n  }), __jsx(Form.Control.Feedback, {\n    type: \"invalid\"\n  }, \"Please enter your NetID.\")), __jsx(Form.Group, {\n    controlId: \"formCommitteeInput\"\n  }, __jsx(Form.Label, null, \"Check the committees you are interested in:\"), __jsx(Form.Check, {\n    type: \"checkbox\",\n    name: \"academic\",\n    value: \"academic\",\n    label: \"Academic\"\n  }), __jsx(Form.Check, {\n    type: \"checkbox\",\n    name: \"infrastructure\",\n    value: \"infrastructure\",\n    label: \"Infrastructure\"\n  }), __jsx(Form.Check, {\n    type: \"checkbox\",\n    name: \"mentorship\",\n    value: \"mentorship\",\n    label: \"Mentorship\"\n  }), __jsx(Form.Check, {\n    type: \"checkbox\",\n    name: \"outreach\",\n    value: \"outreach\",\n    label: \"Outreach\"\n  }), __jsx(Form.Check, {\n    type: \"checkbox\",\n    name: \"marketing\",\n    value: \"marketing\",\n    label: \"Marketing\"\n  }), __jsx(Form.Check, {\n    type: \"checkbox\",\n    name: \"social\",\n    value: \"social\",\n    label: \"Social\"\n  }), __jsx(Form.Check, {\n    type: \"checkbox\",\n    name: \"technical\",\n    value: \"technical\",\n    label: \"Technical\"\n  })), __jsx(Button, {\n    id: styles[\"submit-form\"],\n    type: \"submit\"\n  }, \"Submit\"))))));\n}","map":null,"metadata":{},"sourceType":"module"}
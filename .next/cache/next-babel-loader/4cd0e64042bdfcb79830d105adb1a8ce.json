{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/layout\";\nimport SectionBody from \"../components/sectionbody\";\nimport SectionHead from \"../components/sectionhead\";\nimport styles from \"../styles/Forms.module.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nexport default function Unsubscribe() {\n  const {\n    0: validated,\n    1: setValidated\n  } = useState(false);\n\n  const handleSubmit = event => {\n    const url = \"https://script.google.com/macros/s/AKfycbwyS4Us0lkzSDiFNLrikWOyYTSrAqYvqXhWRfw20l4fR6HtkGg/exec\";\n    const form = event.currentTarget;\n\n    if (event.currentTarget.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n      setValidated(true);\n    } else {\n      event.preventDefault();\n      setValidated(true);\n      const formData = new FormData(form);\n      const inputs = form.querySelectorAll(\"input\");\n      inputs.forEach(input => input.disabled = true);\n\n      const postJoinRequest = async () => {\n        const result = await axios.post(url, formData).then(response => {\n          alert(\"You have successfully unsubscribed.\");\n        }).catch(error => {\n          alert(\"Error: \" + error.message);\n        }).finally(() => {\n          inputs.forEach(input => input.disabled = false);\n          setValidated(false);\n        });\n      };\n\n      postJoinRequest();\n    }\n  };\n\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"content\"\n  }, __jsx(Container, {\n    className: \"section\"\n  }, __jsx(SectionHead, {\n    title: \"Unsubscribe_\",\n    top: true\n  }), __jsx(SectionBody, null, __jsx(\"p\", null, \"Enter your netID to unsubscribe from the WECE mailing list.\"), __jsx(Form, {\n    name: \"unsubscribe-form\",\n    noValidate: true,\n    validated: validated,\n    onSubmit: handleSubmit\n  }, __jsx(Form.Group, {\n    controlId: \"formNetId\"\n  }, __jsx(Form.Label, null, \"NetId\"), __jsx(Form.Control, {\n    required: true,\n    type: \"text\",\n    name: \"netID\",\n    placeholder: \"Enter NetId\"\n  }), __jsx(Form.Control.Feedback, {\n    type: \"invalid\"\n  }, \"Please enter your NetID.\")), __jsx(Button, {\n    id: styles[\"submit-form\"],\n    type: \"submit\"\n  }, \"Submit\"))))));\n}","map":null,"metadata":{},"sourceType":"module"}
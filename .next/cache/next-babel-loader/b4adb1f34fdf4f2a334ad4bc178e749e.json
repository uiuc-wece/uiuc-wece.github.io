{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/eugeniachen/git/weceweb/next-app/pages/calendar.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/layout\";\nimport SectionHead from \"../components/sectionhead\";\nimport styles from \"../styles/Calendar.module.css\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nexport default function Calendar() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      events = _useState[0],\n      setEvents = _useState[1];\n\n  useEffect(function () {\n    function formatTime(date) {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? \"pm\" : \"am\";\n      hours = hours % 12;\n      hours = hours ? hours : 12;\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      var strTime = hours + \":\" + minutes + \" \" + ampm;\n      return strTime;\n    }\n\n    var fetchEvents = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var cal_id, api_key, dateNow, result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                cal_id = \"pmtthq7beefrulnrjbd9nj9e5s@group.calendar.google.com\";\n                api_key = \"AIzaSyDCdsXt9s_kxJp3SUjzzHng1Flgbao7jpc\";\n                dateNow = new Date();\n                _context.next = 5;\n                return axios.get(\"https://www.googleapis.com/calendar/v3/calendars/\" + cal_id + \"/events\" + \"?key=\" + api_key, {\n                  params: {\n                    timeMin: dateNow.toISOString(),\n                    timeMax: new Date(dateNow.setMonth(dateNow.getMonth() + 1)).toISOString(),\n                    orderBy: \"startTime\",\n                    singleEvents: true\n                  }\n                }).then(function (response) {\n                  var events = [];\n\n                  if (response.data.items) {\n                    var eventItems = response.data.items;\n                    eventItems.forEach(function (e) {\n                      var startTime = e.start.dateTime ? new Date(e.start.dateTime) : new Date(e.start.date);\n                      var endTime = e.end.dateTime ? new Date(e.end.dateTime) : new Date(e.end.date);\n                      var startDate = startTime.toDateString();\n                      var endDate = endTime.toDateString();\n                      var startTimeString = startTime && startTime.getHours() ? formatTime(startTime) : \"\";\n                      var endTimeString = endTime && endTime.getHours() ? formatTime(endTime) : \"\";\n                      var timeString = endTimeString ? \"\".concat(startTimeString, \" - \").concat(endTimeString) : startTimeString;\n                      var dateString = startDate == endDate ? \"\".concat(startDate, \", \").concat(timeString) : \"\".concat(startDate, \", \").concat(startTimeString, \" - \").concat(endDate, \", \").concat(endTimeString);\n                      var locationString = e.location ? \"\".concat(e.location) : \"\";\n                      events.push({\n                        id: e.id,\n                        htmlLink: e.htmlLink,\n                        summary: e.summary,\n                        locationString: locationString,\n                        dateString: dateString\n                      });\n                    });\n                  }\n\n                  console.log(events);\n                  return events;\n                });\n\n              case 5:\n                result = _context.sent;\n                setEvents(result);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchEvents() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchEvents();\n  }, []);\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, __jsx(Container, {\n    fluid: true,\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, __jsx(SectionHead, {\n    title: \"Events_\",\n    top: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    id: \"events\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, events ? events.map(function (e) {\n    return __jsx(\"a\", {\n      key: e.id,\n      href: e.htmlLink,\n      target: \"_blank\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, __jsx(\"div\", {\n      className: styles[\"event-card\"],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, __jsx(\"h4\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 23\n      }\n    }, e.summary), __jsx(\"h5\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }\n    }, e.locationString), __jsx(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }\n    }, e.dateString)));\n  }) : null))));\n}\n\n_s(Calendar, \"j18ueuia/psAZ/XawE3UyqzOWsE=\");\n\n_c = Calendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"sources":["/Users/eugeniachen/git/weceweb/next-app/pages/calendar.jsx"],"names":["Layout","SectionHead","styles","useEffect","useState","axios","Container","Calendar","events","setEvents","formatTime","date","hours","getHours","minutes","getMinutes","ampm","strTime","fetchEvents","cal_id","api_key","dateNow","Date","get","params","timeMin","toISOString","timeMax","setMonth","getMonth","orderBy","singleEvents","then","response","data","items","eventItems","forEach","e","startTime","start","dateTime","endTime","end","startDate","toDateString","endDate","startTimeString","endTimeString","timeString","dateString","locationString","location","push","id","htmlLink","summary","console","log","result","map"],"mappings":"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","sourcesContent":["import Layout from \"../components/layout\";\nimport SectionHead from \"../components/sectionhead\";\nimport styles from \"../styles/Calendar.module.css\";\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\n\nexport default function Calendar() {\n  const [events, setEvents] = useState([]);\n\n  useEffect(() => {\n    function formatTime(date) {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? \"pm\" : \"am\";\n      hours = hours % 12;\n      hours = hours ? hours : 12;\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      var strTime = hours + \":\" + minutes + \" \" + ampm;\n      return strTime;\n    }\n\n    const fetchEvents = async () => {\n      const cal_id = \"pmtthq7beefrulnrjbd9nj9e5s@group.calendar.google.com\";\n      const api_key = \"AIzaSyDCdsXt9s_kxJp3SUjzzHng1Flgbao7jpc\";\n\n      var dateNow = new Date();\n\n      const result = await axios\n        .get(\n          \"https://www.googleapis.com/calendar/v3/calendars/\" +\n            cal_id +\n            \"/events\" +\n            \"?key=\" +\n            api_key,\n          {\n            params: {\n              timeMin: dateNow.toISOString(),\n              timeMax: new Date(\n                dateNow.setMonth(dateNow.getMonth() + 1)\n              ).toISOString(),\n              orderBy: \"startTime\",\n              singleEvents: true,\n            },\n          }\n        )\n        .then((response) => {\n          var events = [];\n          if (response.data.items) {\n            const eventItems = response.data.items;\n            eventItems.forEach((e) => {\n              var startTime = e.start.dateTime\n                ? new Date(e.start.dateTime)\n                : new Date(e.start.date);\n              var endTime = e.end.dateTime\n                ? new Date(e.end.dateTime)\n                : new Date(e.end.date);\n              var startDate = startTime.toDateString();\n              var endDate = endTime.toDateString();\n              var startTimeString =\n                startTime && startTime.getHours() ? formatTime(startTime) : \"\";\n              var endTimeString =\n                endTime && endTime.getHours() ? formatTime(endTime) : \"\";\n              var timeString = endTimeString\n                ? `${startTimeString} - ${endTimeString}`\n                : startTimeString;\n\n              var dateString =\n                startDate == endDate\n                  ? `${startDate}, ${timeString}`\n                  : `${startDate}, ${startTimeString} - ${endDate}, ${endTimeString}`;\n              var locationString = e.location ? `${e.location}` : \"\";\n              events.push({\n                id: e.id,\n                htmlLink: e.htmlLink,\n                summary: e.summary,\n                locationString: locationString,\n                dateString: dateString,\n              });\n            });\n          }\n          console.log(events);\n          return events;\n        });\n\n      setEvents(result);\n    };\n    fetchEvents();\n  }, []);\n\n  return (\n    <Layout>\n      <div className=\"content\">\n        <Container fluid className=\"section\">\n          <SectionHead title=\"Events_\" top={true} />\n          <div id=\"events\">\n            {events\n              ? events.map((e) => (\n                  <a key={e.id} href={e.htmlLink} target=\"_blank\">\n                    <div className={styles[\"event-card\"]}>\n                      <h4>{e.summary}</h4>\n                      <h5>{e.locationString}</h5>\n                      <h6>{e.dateString}</h6>\n                    </div>\n                  </a>\n                ))\n              : null}\n          </div>\n        </Container>\n      </div>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
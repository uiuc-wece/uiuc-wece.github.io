{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/eugeniachen/git/weceweb/next-app/pages/calendar.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/layout\";\nimport SectionHead from \"../components/sectionhead\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nexport default function Calendar() {\n  _s();\n\n  var _useState = useState({\n    events: []\n  }),\n      data = _useState[0],\n      setData = _useState[1];\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var cal_id, api_key, formatTime, result;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            formatTime = function _formatTime(date) {\n              var hours = date.getHours();\n              var minutes = date.getMinutes();\n              var ampm = hours >= 12 ? \"pm\" : \"am\";\n              hours = hours % 12;\n              hours = hours ? hours : 12;\n              minutes = minutes < 10 ? \"0\" + minutes : minutes;\n              var strTime = hours + \":\" + minutes + \" \" + ampm;\n              return strTime;\n            };\n\n            cal_id = \"pmtthq7beefrulnrjbd9nj9e5s@group.calendar.google.com\";\n            api_key = \"AIzaSyDCdsXt9s_kxJp3SUjzzHng1Flgbao7jpc\";\n            _context.next = 5;\n            return axios({\n              method: \"get\",\n              url: \"https://www.googleapis.com/calendar/v3/calendars/\" + cal_id + \"/events\" + \"?key=\" + api_key,\n              data: {\n                timeMin: dateNow.toISOString(),\n                timeMax: new Date(dateNow.setMonth(dateNow.getMonth() + 1)).toISOString(),\n                orderBy: \"startTime\",\n                singleEvents: true\n              }\n            }).then(function (response) {\n              var events = response.items;\n              events.forEach(function (e) {\n                console.log(e);\n                var startTime = e.start.dateTime ? new Date(e.start.dateTime) : new Date(e.start.date);\n                var endTime = e.end.dateTime ? new Date(e.end.dateTime) : new Date(e.end.date);\n                var startDate = startTime.toDateString();\n                var endDate = endTime.toDateString();\n                var startTimeString = startTime && startTime.getHours() ? formatTime(startTime) : \"\";\n                var endTimeString = endTime && endTime.getHours() ? formatTime(endTime) : \"\";\n                var timeString = endTimeString ? \"\".concat(startTimeString, \" - \").concat(endTimeString) : startTimeString;\n                var dateString = startDate == endDate ? \"\".concat(startDate, \", \").concat(timeString) : \"\".concat(startDate, \", \").concat(startTimeString, \" - \").concat(endDate, \", \").concat(endTimeString);\n                var locationString = e.location ? \"\".concat(e.location) : \"\";\n                return {\n                  htmlLink: e.htmlLink,\n                  summary: e.summary,\n                  locationString: locationString,\n                  dateString: dateString\n                };\n              });\n            });\n\n          case 5:\n            result = _context.sent;\n            document.addEventListener(\"DOMContentLoaded\", function (event) {\n              EVENTS_DIV = document.getElementById(\"events\");\n              var dateNow = new Date();\n              $.ajax({\n                url: \"https://www.googleapis.com/calendar/v3/calendars/\" + cal_id + \"/events\" + \"?key=\" + api_key,\n                data: {\n                  timeMin: dateNow.toISOString(),\n                  timeMax: new Date(dateNow.setMonth(dateNow.getMonth() + 1)).toISOString(),\n                  orderBy: \"startTime\",\n                  singleEvents: true\n                },\n                success: function success(data) {\n                  var events = data.items;\n                  events.forEach(function (e) {\n                    console.log(e);\n                    var startTime = e.start.dateTime ? new Date(e.start.dateTime) : new Date(e.start.date);\n                    var endTime = e.end.dateTime ? new Date(e.end.dateTime) : new Date(e.end.date);\n                    var startDate = startTime.toDateString();\n                    var endDate = endTime.toDateString();\n                    var startTimeString = startTime && startTime.getHours() ? formatTime(startTime) : \"\";\n                    var endTimeString = endTime && endTime.getHours() ? formatTime(endTime) : \"\";\n                    var timeString = endTimeString ? \"\".concat(startTimeString, \" - \").concat(endTimeString) : startTimeString;\n                    var dateString = startDate == endDate ? \"\".concat(startDate, \", \").concat(timeString) : \"\".concat(startDate, \", \").concat(startTimeString, \" - \").concat(endDate, \", \").concat(endTimeString);\n                    var locationString = e.location ? \"\".concat(e.location) : \"\";\n                    var card = \"\\n      <a href=\\\"\".concat(e.htmlLink, \"\\\" target=\\\"_blank\\\"><div class=\\\"event-card\\\">\\n        <h4>\").concat(e.summary, \"</h4>\\n        <h5>\").concat(locationString, \"</h5>\\n        <h6>\").concat(dateString, \"</h6>\\n      </div></a>\\n      \");\n                    EVENTS_DIV.innerHTML += card;\n                  });\n                }\n              });\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })));\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, __jsx(Container, {\n    fluid: true,\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, __jsx(SectionHead, {\n    title: \"Events_\",\n    top: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    id: \"events\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }))));\n}\n\n_s(Calendar, \"maQP3lBQwrA6VLIodwJXEP6aPNc=\");\n\n_c = Calendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"sources":["/Users/eugeniachen/git/weceweb/next-app/pages/calendar.jsx"],"names":["Layout","SectionHead","useEffect","useState","axios","Container","Calendar","events","data","setData","formatTime","date","hours","getHours","minutes","getMinutes","ampm","strTime","cal_id","api_key","method","url","timeMin","dateNow","toISOString","timeMax","Date","setMonth","getMonth","orderBy","singleEvents","then","response","items","forEach","e","console","log","startTime","start","dateTime","endTime","end","startDate","toDateString","endDate","startTimeString","endTimeString","timeString","dateString","locationString","location","htmlLink","summary","result","document","addEventListener","event","EVENTS_DIV","getElementById","$","ajax","success","card","innerHTML"],"mappings":"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","sourcesContent":["import Layout from \"../components/layout\";\nimport SectionHead from \"../components/sectionhead\";\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\n\nexport default function Calendar() {\n  const [data, setData] = useState({ events: [] });\n\n  useEffect(async () => {\n    var cal_id = \"pmtthq7beefrulnrjbd9nj9e5s@group.calendar.google.com\";\n    var api_key = \"AIzaSyDCdsXt9s_kxJp3SUjzzHng1Flgbao7jpc\";\n\n    function formatTime(date) {\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var ampm = hours >= 12 ? \"pm\" : \"am\";\n      hours = hours % 12;\n      hours = hours ? hours : 12;\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      var strTime = hours + \":\" + minutes + \" \" + ampm;\n      return strTime;\n    }\n\n    const result = await axios({\n      method: \"get\",\n      url:\n        \"https://www.googleapis.com/calendar/v3/calendars/\" +\n        cal_id +\n        \"/events\" +\n        \"?key=\" +\n        api_key,\n      data: {\n        timeMin: dateNow.toISOString(),\n        timeMax: new Date(\n          dateNow.setMonth(dateNow.getMonth() + 1)\n        ).toISOString(),\n        orderBy: \"startTime\",\n        singleEvents: true,\n      },\n    }).then((response) => {\n      var events = response.items;\n      events.forEach((e) => {\n        console.log(e);\n        var startTime = e.start.dateTime\n          ? new Date(e.start.dateTime)\n          : new Date(e.start.date);\n        var endTime = e.end.dateTime\n          ? new Date(e.end.dateTime)\n          : new Date(e.end.date);\n        var startDate = startTime.toDateString();\n        var endDate = endTime.toDateString();\n        var startTimeString =\n          startTime && startTime.getHours() ? formatTime(startTime) : \"\";\n        var endTimeString =\n          endTime && endTime.getHours() ? formatTime(endTime) : \"\";\n        var timeString = endTimeString\n          ? `${startTimeString} - ${endTimeString}`\n          : startTimeString;\n\n        var dateString =\n          startDate == endDate\n            ? `${startDate}, ${timeString}`\n            : `${startDate}, ${startTimeString} - ${endDate}, ${endTimeString}`;\n        var locationString = e.location ? `${e.location}` : \"\";\n        return {\n          htmlLink: e.htmlLink,\n          summary: e.summary,\n          locationString: locationString,\n          dateString,\n        };\n      });\n    });\n\n    document.addEventListener(\"DOMContentLoaded\", function (event) {\n      EVENTS_DIV = document.getElementById(\"events\");\n      var dateNow = new Date();\n      $.ajax({\n        url:\n          \"https://www.googleapis.com/calendar/v3/calendars/\" +\n          cal_id +\n          \"/events\" +\n          \"?key=\" +\n          api_key,\n        data: {\n          timeMin: dateNow.toISOString(),\n          timeMax: new Date(\n            dateNow.setMonth(dateNow.getMonth() + 1)\n          ).toISOString(),\n          orderBy: \"startTime\",\n          singleEvents: true,\n        },\n        success: function (data) {\n          var events = data.items;\n          events.forEach((e) => {\n            console.log(e);\n            var startTime = e.start.dateTime\n              ? new Date(e.start.dateTime)\n              : new Date(e.start.date);\n            var endTime = e.end.dateTime\n              ? new Date(e.end.dateTime)\n              : new Date(e.end.date);\n            var startDate = startTime.toDateString();\n            var endDate = endTime.toDateString();\n            var startTimeString =\n              startTime && startTime.getHours() ? formatTime(startTime) : \"\";\n            var endTimeString =\n              endTime && endTime.getHours() ? formatTime(endTime) : \"\";\n            var timeString = endTimeString\n              ? `${startTimeString} - ${endTimeString}`\n              : startTimeString;\n\n            var dateString =\n              startDate == endDate\n                ? `${startDate}, ${timeString}`\n                : `${startDate}, ${startTimeString} - ${endDate}, ${endTimeString}`;\n            var locationString = e.location ? `${e.location}` : \"\";\n            var card = `\n      <a href=\"${e.htmlLink}\" target=\"_blank\"><div class=\"event-card\">\n        <h4>${e.summary}</h4>\n        <h5>${locationString}</h5>\n        <h6>${dateString}</h6>\n      </div></a>\n      `;\n            EVENTS_DIV.innerHTML += card;\n          });\n        },\n      });\n    });\n  });\n\n  return (\n    <Layout>\n      <div className=\"content\">\n        <Container fluid className=\"section\">\n          <SectionHead title=\"Events_\" top={true} />\n          <div id=\"events\"></div>\n        </Container>\n      </div>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}